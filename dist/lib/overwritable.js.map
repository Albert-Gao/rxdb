{"version":3,"sources":["../../src/overwritable.ts"],"names":["overwritable","isDevMode","deepFreezeWhenDevMode","obj","validatePassword","_password","tunnelErrorMessage","message"],"mappings":";;;;;;;AAQA;;AARA;AACA;AACA;AACA;AACA;AACA;AAOO,IAAMA,YAAY,GAAG;AACxB;AACJ;AACA;AACA;AACA;AACIC,EAAAA,SANwB,uBAMH;AACjB,WAAO,KAAP;AACH,GARuB;;AAUxB;AACJ;AACA;AACA;AACA;AACA;AACIC,EAAAA,qBAhBwB,iCAgBCC,GAhBD,EAgB0B;AAC9C,WAAOA,GAAP;AACH,GAlBuB;;AAoBxB;AACJ;AACA;AACA;AACA;AACIC,EAAAA,gBAzBwB,4BAyBPC,SAzBO,EAyBwB;AAC5C,UAAM,yBAAc,YAAd,CAAN;AACH,GA3BuB;;AA6BxB;AACJ;AACA;AACIC,EAAAA,kBAhCwB,8BAgCLC,OAhCK,EAgCoB;AACxC,gCAA0BA,OAA1B,yRAG+EA,OAH/E;AAKH;AAtCuB,CAArB","sourcesContent":["/**\n * functions that can or should be overwritten by plugins\n * IMPORTANT: Do not import any big stuff from RxDB here,\n * the 'overwritable' can be used inside of WebWorkers for the RxStorage only and\n * we do not want to have the full RxDB lib bundled in them.\n */\n\nimport type { DeepReadonly } from './types/util';\nimport {\n    pluginMissing\n} from './util';\n\nexport const overwritable = {\n    /**\n     * if this method is overwritte with one\n     * that returns true, we do additional checks\n     * which help the developer but have bad performance\n     */\n    isDevMode(): boolean {\n        return false;\n    },\n\n    /**\n     * Deep freezes and object when in dev-mode.\n     * Deep-Freezing has the same performaance as deep-cloning, so we only do that in dev-mode.\n     * Also we can ensure the readonly state via typescript\n     * @link https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\n     */\n    deepFreezeWhenDevMode<T>(obj: T): DeepReadonly<T> {\n        return obj as any;\n    },\n\n    /**\n     * validates if a password can be used\n     * @overwritten by plugin (optional)\n     * @throws if password not valid\n     */\n    validatePassword(_password: string | any): void {\n        throw pluginMissing('encryption');\n    },\n\n    /**\n     * overwritte to map error-codes to text-messages\n     */\n    tunnelErrorMessage(message: string): string {\n        return `RxDB Error-Code ${message}.\n        Error messages are not included in RxDB core to reduce build size.\n        - To find out what this error means, either use the dev-mode-plugin https://rxdb.info/dev-mode.html\n        - or search for the error code here: https://github.com/pubkey/rxdb/search?q=${message}\n        `;\n    }\n};\n"],"file":"overwritable.js"}